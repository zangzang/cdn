<?xml version="1.0" encoding="utf-8"?>
<!--
  Publish Profile Template (.pubxml)
  위치: Properties/PublishProfiles/YourProfile.pubxml
  사용: dotnet publish /p:PublishProfile=YourProfile
-->
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    
    <!-- ========================================
         기본 설정
         ======================================== -->
    
    <!-- 빌드 구성 (Debug, Release) -->
    <Configuration>Release</Configuration>
    
    <!-- 플랫폼 (Any CPU, x64, x86, ARM64) -->
    <Platform>Any CPU</Platform>
    
    <!-- 대상 프레임워크 (net9.0, net8.0, net6.0 등) -->
    <!-- <TargetFramework>net9.0</TargetFramework> -->
    
    
    <!-- ========================================
         런타임 및 배포 방식
         ======================================== -->
    
    <!-- 런타임 식별자 (RuntimeIdentifier)
         - Windows: win-x64, win-x86, win-arm64
         - Linux: linux-x64, linux-arm, linux-arm64
         - macOS: osx-x64, osx-arm64
         단일 파일 출력 시 필수! -->
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
    
    <!-- Self-contained 배포 (true/false)
         - true: .NET 런타임 포함, 대상 PC에 .NET 설치 불필요
         - false: Framework-dependent, 대상 PC에 .NET 설치 필요 -->
    <SelfContained>true</SelfContained>
    
    
    <!-- ========================================
         단일 파일 출력
         ======================================== -->
    
    <!-- 단일 파일로 출력 (true/false)
         SelfContained=true 및 RuntimeIdentifier 필수 -->
    <PublishSingleFile>true</PublishSingleFile>
    
    <!-- Native 라이브러리를 단일 파일에 포함 (true/false)
         false인 경우 일부 DLL이 별도 파일로 추출됨 -->
    <IncludeNativeLibrariesForSelfExtract>true</IncludeNativeLibrariesForSelfExtract>
    
    <!-- 모든 콘텐츠를 단일 파일에 포함 (true/false)
         appsettings.json 등도 단일 파일에 포함 -->
    <IncludeAllContentForSelfExtract>false</IncludeAllContentForSelfExtract>
    
    <!-- 단일 파일 압축 사용 (true/false)
         .NET 6 이상에서 사용 가능, 파일 크기 감소 -->
    <!-- <EnableCompressionInSingleFile>true</EnableCompressionInSingleFile> -->
    
    
    <!-- ========================================
         최적화 옵션
         ======================================== -->
    
    <!-- Trimming: 사용하지 않는 코드 제거 (true/false)
         용량 대폭 감소하지만 리플렉션 사용 시 주의 필요 -->
    <PublishTrimmed>false</PublishTrimmed>
    
    <!-- Trimming 모드 (full, partial)
         - full: 더 공격적인 트리밍
         - partial: 안전한 트리밍 (기본값) -->
    <!-- <TrimMode>partial</TrimMode> -->
    
    <!-- 사용하지 않는 기능 제거 옵션들 -->
    <!-- <DebuggerSupport>false</DebuggerSupport> -->
    <!-- <EnableUnsafeBinaryFormatterSerialization>false</EnableUnsafeBinaryFormatterSerialization> -->
    <!-- <EnableUnsafeUTF7Encoding>false</EnableUnsafeUTF7Encoding> -->
    <!-- <InvariantGlobalization>true</InvariantGlobalization> -->
    <!-- <HttpActivityPropagationSupport>false</HttpActivityPropagationSupport> -->
    <!-- <MetadataUpdaterSupport>false</MetadataUpdaterSupport> -->
    
    <!-- ReadyToRun (R2R): AOT 컴파일로 시작 성능 향상 (true/false)
         파일 크기 증가, 시작 속도 향상 -->
    <PublishReadyToRun>false</PublishReadyToRun>
    
    <!-- ReadyToRun 크로스 컴파일 사용 -->
    <!-- <PublishReadyToRunUseCrossgen2>true</PublishReadyToRunUseCrossgen2> -->
    
    
    <!-- ========================================
         출력 설정
         ======================================== -->
    
    <!-- 출력 디렉토리 (상대 또는 절대 경로) -->
    <PublishDir>bin\Release\net9.0\win-x64\publish\</PublishDir>
    
    <!-- 게시 프로토콜 (FileSystem, FTP, WebDeploy 등) -->
    <PublishProtocol>FileSystem</PublishProtocol>
    
    <!-- 출력 파일명 지정 (확장자 제외) -->
    <!-- <AssemblyName>MyApp</AssemblyName> -->
    
    
    <!-- ========================================
         디버그 및 기호
         ======================================== -->
    
    <!-- 디버그 심볼 생성 (none, portable, embedded, full)
         - none: 심볼 없음
         - portable: .pdb 파일 생성 (권장)
         - embedded: 심볼을 DLL에 포함
         - full: Windows 전용 .pdb -->
    <DebugType>portable</DebugType>
    
    <!-- 디버그 심볼 게시 -->
    <DebugSymbols>false</DebugSymbols>
    
    
    <!-- ========================================
         파일 및 리소스
         ======================================== -->
    
    <!-- XML 문서 파일 포함 -->
    <!-- <GenerateDocumentationFile>false</GenerateDocumentationFile> -->
    
    <!-- Satellite 어셈블리 포함 (다국어 지원) -->
    <!-- <SatelliteResourceLanguages>en;ko</SatelliteResourceLanguages> -->
    
    <!-- 참조 어셈블리 게시 -->
    <!-- <CopyRefAssembliesToPublishDirectory>false</CopyRefAssembliesToPublishDirectory> -->
    
    
    <!-- ========================================
         기타 옵션
         ======================================== -->
    
    <!-- 경고를 오류로 처리 -->
    <!-- <TreatWarningsAsErrors>false</TreatWarningsAsErrors> -->
    
    <!-- 특정 경고 무시 -->
    <!-- <NoWarn>IL2026;IL2087</NoWarn> -->
    
    <!-- 빌드 후 이벤트 실행 여부 -->
    <!-- <RunPostBuildEvent>OnBuildSuccess</RunPostBuildEvent> -->
    
    <!-- 출력 경로 정리 (게시 전 삭제) -->
    <!-- <DeleteExistingFiles>true</DeleteExistingFiles> -->
    
    <!-- 빌드 병렬 처리 -->
    <!-- <MaxCpuCount>0</MaxCpuCount> -->
    
    <!-- Deterministic 빌드 (재현 가능한 빌드) -->
    <!-- <Deterministic>true</Deterministic> -->
    
    <!-- 앱 호스트 생성 (.exe 파일) -->
    <!-- <UseAppHost>true</UseAppHost> -->
    
    <!-- 단일 파일 호스트 이름 -->
    <!-- <SingleFileHostName>MyApp</SingleFileHostName> -->
    
  </PropertyGroup>
  
  
  <!-- ========================================
       조건부 설정 예시
       ======================================== -->
  
  <!-- Windows 전용 설정 -->
  <!--
  <PropertyGroup Condition="'$(RuntimeIdentifier)' == 'win-x64'">
    <PublishReadyToRun>true</PublishReadyToRun>
  </PropertyGroup>
  -->
  
  <!-- Release 구성 전용 설정 -->
  <!--
  <PropertyGroup Condition="'$(Configuration)' == 'Release'">
    <PublishTrimmed>true</PublishTrimmed>
  </PropertyGroup>
  -->
  
  
  <!-- ========================================
       파일 포함/제외
       ======================================== -->
  
  <!-- 특정 파일 게시에서 제외 -->
  <!--
  <ItemGroup>
    <Content Remove="appsettings.Development.json" />
    <Content Remove="logs\**\*" />
  </ItemGroup>
  -->
  
  <!-- 특정 파일 게시에 포함 -->
  <!--
  <ItemGroup>
    <Content Include="config\*.json">
      <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
    </Content>
  </ItemGroup>
  -->
  
  <!-- Native 라이브러리 제외 (Trimming 시 문제 방지) -->
  <!--
  <ItemGroup>
    <TrimmerRootAssembly Include="MyImportantLibrary" />
  </ItemGroup>
  -->
  
</Project>